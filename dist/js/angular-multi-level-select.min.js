!function(){"use strict";angular.module("nx.widget",[])}(),function(e){"use strict";function t(e,t,o){return{restrict:"A",require:"ngModel",scope:{name:"@",source:"=",empty:"=",dependents:"=",ngModel:"="},template:'<option value="{{empty.value}}">{{empty.text}}</option><option ng-repeat="item in items" value="{{item.value}}">{{item.text}}</option>',link:function(e,t,i,u){function r(){var t=e.source?e.source():!1;t&&(t.then||(t={then:function(e){return function(t){t.call(window,e)}}(t)}),t.then(function(t){e.items=t,o(function(){u.$setViewValue(e.empty.value),u.$render(),console.log("set another time")})}))}var a=e.dependents||[],c=e.$parent,l=e.name=e.name||"multi-select-"+Math.floor(9e5*Math.random()+1e5);n[l]={scope:e,getValue:function(){return e.ngModel}},a.length>0?e.$on("selectUpdate",function(e,t){a.indexOf(t.name)>-1&&r()}):r(),c.$watch(function(){return e.ngModel},function(t,n){t!==n&&e.$root.$broadcast("selectUpdate",e)})}}}var n={};t.$inject=["$http","$parse","$timeout"],e.module("nx.widget").directive("nxMultiLevelSelect",t)}(angular);