!function(){"use strict";angular.module("nx.widget",[])}(),function(e){"use strict";function t(e,t,u){return{restrict:"A",require:"ngModel",scope:{name:"@",source:"=",empty:"=",dependents:"=",ngModel:"="},template:'<option value="{{empty.value}}">{{empty.text}}</option><option ng-repeat="item in items" value="{{item.value}}">{{item.text}}</option>',link:function(e,t,i,r){function a(){var t,o,i=e.source?e.source():!1;i&&(i.then||(i={then:function(e){return function(t){t.call(window,e)}}(i)}),i.then(function(i){e.items=i,u(function(){o=n(i,e.ngModel),t=m||o?e.empty.value:e.ngModel,r.$setViewValue(t),r.$render(),m=!0})}))}var c=e.dependents||[],l=e.$parent,d=e.name=e.name||"multi-select-"+Math.floor(9e5*Math.random()+1e5),m=!1;o[d]={scope:e,getValue:function(){return e.ngModel}},c.length>0?e.$on("selectUpdate",function(e,t){c.indexOf(t.name)>-1&&a()}):a(),l.$watch(function(){return e.ngModel},function(t,n){t===n&&t===e.empty.value||e.$root.$broadcast("selectUpdate",e)})}}}function n(t,n){var o=!1;return e.forEach(t,function(e){return e.value===n?!0:void 0}),o}var o={};t.$inject=["$http","$parse","$timeout"],e.module("nx.widget").directive("nxMultiLevelSelect",t)}(angular);